<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="description" content="Use Viewer to start building new applications or easily embed Cesium into existing applications.">
    <meta name="cesium-sandcastle-labels" content="Beginner, Showcases">
    <title>Cesium Demo</title>
    <script type="text/javascript" src="../Sandcastle-header.js"></script>
    <script type="text/javascript" src="../../../ThirdParty/requirejs-2.1.20/require.js"></script>
    <script type="text/javascript">
        if(typeof require === 'function') {
            require.config({
                baseUrl : '../../../Source',
                waitSeconds : 120
            });
        }
    </script>
</head>
<body class="sandcastle-loading" data-sandcastle-bucket="bucket-requirejs.html">
<style>
    @import url(../templates/bucket.css);
</style>
<div id="cesiumContainer" class="fullSize"></div>
<div id="loadingOverlay"><h1>Loading...</h1></div>
<div id="toolbar"></div>
<script id="cesium_sandcastle_script">
function startup(Cesium) {
    'use strict';
//Sandcastle_Begin

var mollweide = new Cesium.Proj4Projection({
    wellKnownText : '+proj=moll +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000 +units=m +no_defs'
});

var viewer = new Cesium.Viewer('cesiumContainer', {
    imageryProvider : Cesium.createTileMapServiceImageryProvider({
        url : Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')
    }),
    //mapProjection : mollweide,
    sceneMode : Cesium.SceneMode.SCENE2D
});

var layers = viewer.imageryLayers;

var geographicLayer = layers.addImageryProvider(new Cesium.SingleTileImageryProvider({
    url : '../../SampleData/Brazil_elevation_EPSG4326.png',
    rectangle : Cesium.Rectangle.fromDegrees(-83.0049972999999994,-55.9523302142549284,-33.4586659819903787,13.5018063000000001)
}));

geographicLayer.show = false;

Sandcastle.addToolbarButton('Toggle geographic layer', function() {
    geographicLayer.show = !geographicLayer.show;
});

var mollweideLayer = layers.addImageryProvider(new Cesium.SingleTileProjectedImageryProvider({
    url : '../../SampleData/Brazil_elevation_ESRI53009.png',
    // bounds copied out of QGIS
    projectedRectangle : new Cesium.Rectangle(-8309084.8709259927272797,-6474832.4202510649338365,-2331162.9914685478433967,1661637.9380288750398904),
    mapProjection : mollweide
}));

Sandcastle.addToolbarButton('Toggle mollweide layer', function() {
    mollweideLayer.show = !mollweideLayer.show;
});

var geographicLayerDebug = layers.addImageryProvider(new Cesium.SingleTileImageryProvider({
    url : '../../SampleData/Brazil_grid_EPSG4326.png',
    rectangle : Cesium.Rectangle.fromDegrees(-83.0049972999999994,-55.9523302142549284,-33.4586659819903787,13.5018063000000001)
}));

geographicLayerDebug.show = false;

Sandcastle.addToolbarButton('Toggle geographic debug', function() {
    geographicLayerDebug.show = !geographicLayerDebug.show;
});

var mollweideLayerDebug = layers.addImageryProvider(new Cesium.SingleTileProjectedImageryProvider({
    url : '../../SampleData/Brazil_grid_ESRI53009.png',
    // bounds copied out of QGIS
    projectedRectangle : new Cesium.Rectangle(-8309084.8709259927272797,-6474832.4202510649338365,-2331162.9914685478433967,1661637.9380288750398904),
    mapProjection : mollweide
}));

mollweideLayerDebug.show = false;

Sandcastle.addToolbarButton('Toggle mollweide debug', function() {
    mollweideLayerDebug.show = !mollweideLayerDebug.show;
});

viewer.entities.add({
    name : Cesium.Math.toDegrees(-2.083152219581823) + ' west ' + Cesium.Math.toDegrees(-0.4064163597970504) + ' east',
    rectangle : {
        coordinates : new Cesium.Rectangle(-2.083152219581823, -0.976602012741294, -0.4064163597970504, 0.23565097490151266),
        material : Cesium.Color.RED.withAlpha(0.0),
        height : 5000.0,
        outline : true,
        outlineColor : Cesium.Color.RED
    }
});

//Sandcastle_End
    Sandcastle.finishedLoading();
}
if (typeof Cesium !== 'undefined') {
    startup(Cesium);
} else if (typeof require === 'function') {
    require(['Cesium'], startup);
}
</script>
</body>
</html>
